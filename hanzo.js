var Hanzo=function(){"use strict";var t,e=function(t){return"function"==typeof t},n=function(t){return 200===t.status},r=function(t){return 201===t.status},o="GET",u="POST",i=function(t,e,n){var r,o,u,i,c,s;return null==e&&(e={}),r=null!=(o=null!=(u=e.data)&&null!=(i=u.error)?i.message:void 0)?o:"Request failed",null==n&&(n=new Error(r)),n.data=e.data,n.msg=r,n.req=t,n.responseText=e.data,n.status=e.status,n.type=null!=(c=e.data)&&null!=(s=c.error)?s.type:void 0,n};t=function(t,e,n){var r,o,u;return o=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi"),o.test(t)?null!=n?t.replace(o,"$1"+e+"="+n+"$2$3"):(r=t.split("#"),t=r[0].replace(o,"$1$3").replace(/(&|\?)$/,""),null!=r[1]&&(t+="#"+r[1]),t):null!=n?(u=t.indexOf("?")!==-1?"&":"?",r=t.split("#"),t=r[0]+u+e+"="+n,null!=r[1]&&(t+="#"+r[1]),t):t};var c,s=function(e,n){var r,o;if("object"!=typeof n)return e;for(r in n)o=n[r],e=t(e,r,o);return e};c=function(){function t(e){var n,r,o,u;if(null==e&&(e={}),!(this instanceof t))return new t(e);n=e.blueprints,r=e.client,this.client=r||new this.constructor.CLIENT(e),null==n&&(n=this.constructor.BLUEPRINTS);for(o in n)u=n[o],this.addBlueprints(o,u)}return t.BLUEPRINTS={},t.CLIENT=null,t.prototype.addBlueprints=function(t,e){var n,r;null==this[t]&&(this[t]={});for(r in e)n=e[r],this.addBlueprint(t,r,n)},t.prototype.addBlueprint=function(t,r,u){var c;return e(u)?this[t][r]=function(t){return function(){return u.apply(t,arguments)}}(this):(null==u.expects&&(u.expects=n),null==u.method&&(u.method=o),c=function(t){return function(e,n){var r;return r=void 0,u.useCustomerToken&&(r=t.client.getCustomerToken()),t.client.request(u,e,r).then(function(n){var r,o;if(null!=(null!=(r=n.data)?r.error:void 0))throw i(e,n);if(!u.expects(n))throw i(e,n);return null!=u.process&&u.process.call(t,n),null!=(o=n.data)?o:n.body}).callback(n)}}(this),this[t][r]=c)},t.prototype.setKey=function(t){return this.client.setKey(t)},t.prototype.setCustomerToken=function(t){return this.client.setCustomerToken(t)},t.prototype.deleteCustomerToken=function(){return this.client.deleteCustomerToken()},t.prototype.setStore=function(t){return this.storeId=t,this.client.setStore(t)},t}();var l,a,f=c,p=l=function(){function t(t){this.state=t.state,this.value=t.value,this.reason=t.reason}return t.prototype.isFulfilled=function(){return"fulfilled"===this.state},t.prototype.isRejected=function(){return"rejected"===this.state},t}();a=function(){var t,e,n,r,o;return r=[],o=0,t=1024,e=function(){for(var e;r.length-o;){try{r[o]()}catch(t){e=t,global.console&&global.console.error(e)}r[o++]=void 0,o===t&&(r.splice(0,t),o=0)}},n=function(){var t,n;return"undefined"!=typeof MutationObserver?(t=document.createElement("div"),n=new MutationObserver(e),n.observe(t,{attributes:!0}),function(){t.setAttribute("a",0)}):"undefined"!=typeof setImmediate?function(){setImmediate(e)}:function(){setTimeout(e,0)}}(),function(t){r.push(t),r.length-o==1&&n()}}();var h,d,y,m,v,g,b,w=a;v=void 0,y=v,d="fulfilled",m="rejected",b=function(t,e){var n,r;if("function"==typeof t.y)try{r=t.y.call(v,e),t.p.resolve(r)}catch(e){n=e,t.p.reject(n)}else t.p.resolve(e)},g=function(t,e){var n,r;if("function"==typeof t.n)try{r=t.n.call(v,e),t.p.resolve(r)}catch(e){n=e,t.p.reject(n)}else t.p.reject(e)},h=function(){function t(t){t&&t(function(t){return function(e){return t.resolve(e)}}(this),function(t){return function(e){return t.reject(e)}}(this))}return t.prototype.resolve=function(t){var e,n,r,o;if(this.state===y){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));if(t&&("function"==typeof t||"object"==typeof t))try{if(r=!0,"function"==typeof(o=t.then))return void o.call(t,function(t){return function(e){r&&(r&&(r=!1),t.resolve(e))}}(this),function(t){return function(e){r&&(r=!1,t.reject(e))}}(this))}catch(t){return n=t,void(r&&this.reject(n))}this.state=d,this.v=t,(e=this.c)&&w(function(n){return function(){var n,r,o;for(r=0,o=e.length;r<o;r++)n=e[r],b(n,t)}}(this))}},t.prototype.reject=function(e){var n;this.state===y&&(this.state=m,this.v=e,(n=this.c)?w(function(){var t,r,o;for(r=0,o=n.length;r<o;r++)t=n[r],g(t,e)}):!t.suppressUncaughtRejectionError&&global.console&&global.console.log("Broken Promise, please catch rejections: ",e,e?e.stack:null))},t.prototype.then=function(e,n){var r,o,u,i;return u=new t,o={y:e,n:n,p:u},this.state===y?this.c?this.c.push(o):this.c=[o]:(i=this.state,r=this.v,w(function(){i===d?b(o,r):g(o,r)})),u},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){return this.then(t,t)},t.prototype.timeout=function(e,n){return n=n||"timeout",new t(function(t){return function(r,o){setTimeout(function(){return o(Error(n))},e),t.then(function(t){r(t)},function(t){o(t)})}}(this))},t.prototype.callback=function(t){return"function"==typeof t&&(this.then(function(e){return t(null,e)}),this.catch(function(e){return t(e,null)})),this},t}();var j=h,T=function(t){var e;return e=new j,e.resolve(t),e},x=function(t){var e;return e=new j,e.reject(t),e},O=function(t){var e,n,r,o,u,i,c,s;for(c=[],u=0,s=new j,i=function(e,n){e&&"function"==typeof e.then||(e=T(e)),e.then(function(e){c[n]=e,++u===t.length&&s.resolve(c)},function(t){s.reject(t)})},e=n=0,r=t.length;n<r;e=++n)o=t[e],i(o,e);return t.length||s.resolve(c),s},k=function(t){return new j(function(e,n){return t.then(function(t){return e(new p({state:"fulfilled",value:t}))}).catch(function(t){return e(new p({state:"rejected",reason:t}))})})},E=function(t){return O(t.map(k))};j.all=O,j.reflect=k,j.reject=x,j.resolve=T,j.settle=E,j.soon=w;var _,C,N,R,S,U,A=[].slice;_=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,U=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)},S=function(){var t,e,n,r,o,u,i,c,s,l;try{if(!Object.assign)return!1;if(c=new String("abc"),c[5]="de","5"===Object.getOwnPropertyNames(c)[0])return!1;for(s={},t=e=0;e<=9;t=++e)s["_"+String.fromCharCode(t)]=t;if(u=Object.getOwnPropertyNames(s).map(function(t){return s[t]}),"0123456789"!==u.join(""))return!1;for(l={},i="abcdefghijklmnopqrst".split(""),n=0,r=i.length;n<r;n++)o=i[n],l[o]=o;return"abcdefghijklmnopqrst"===Object.keys(Object.assign({},l)).join("")}catch(t){return t,!1}};var I,P,H,L=N=function(){return S()?Object.assign:function(){var t,e,n,r,o,u,i,c,s,l,a,f;for(a=arguments[0],s=2<=arguments.length?A.call(arguments,1):[],f=U(a),e=0,o=s.length;e<o;e++){c=s[e],t=Object(c);for(r in t)C.call(t,r)&&(f[r]=t[r]);if(_)for(i=_(t),n=0,u=i.length;n<u;n++)l=i[n],R.call(t,l)&&(f[l]=t[l])}return f}}(),q=L;H=function(t){return t.replace(/^\s*|\s*$/g,"")},I=function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B,F,z,$,M,D,J,W=P=function(t){var e,n,r,o,u,i,c,s;if(!t)return{};for(i={},u=H(t).split("\n"),e=0,o=u.length;e<o;e++)return c=u[e],n=c.indexOf(":"),r=H(c.slice(0,n)).toLowerCase(),s=H(c.slice(n+1)),void(void 0===i[r]?i[r]=s:I(i[r])?i[r].push(s):i[r]=[i[r],s]);return i},X=B=function(){function t(){}return t.DEFAULT_CONTENT_TYPE="application/x-www-form-urlencoded; charset=UTF-8",t.Promise=j,t.prototype.send=function(t){var e;return null==t&&(t={}),e={method:"GET",data:null,headers:{},async:!0,username:null,password:null},t=q({},e,t),new j(function(e){return function(n,r){var o,u,i,c,s;if(!XMLHttpRequest)return void e._handleError("browser",r,null,"browser doesn't support XMLHttpRequest");if("string"!=typeof t.url||0===t.url.length)return void e._handleError("url",r,null,"URL is a required parameter");e._xhr=s=new XMLHttpRequest,s.onload=function(){var t;e._detachWindowUnload();try{t=e._getResponseText()}catch(t){return void e._handleError("parse",r,null,"invalid JSON response")}return n({url:e._getResponseUrl(),status:s.status,statusText:s.statusText,responseText:t,headers:e._getHeaders(),xhr:s})},s.onerror=function(){return e._handleError("error",r)},s.ontimeout=function(){return e._handleError("timeout",r)},s.onabort=function(){return e._handleError("abort",r)},e._attachWindowUnload(),s.open(t.method,t.url,t.async,t.username,t.password),null==t.data||t.headers["Content-Type"]||(t.headers["Content-Type"]=e.constructor.DEFAULT_CONTENT_TYPE),i=t.headers;for(u in i)c=i[u],s.setRequestHeader(u,c);try{return s.send(t.data)}catch(t){return o=t,e._handleError("send",r,null,o.toString())}}}(this))},t.prototype.getXHR=function(){return this._xhr},t.prototype._attachWindowUnload=function(){if(this._unloadHandler=this._handleWindowUnload.bind(this),window.attachEvent)return window.attachEvent("onunload",this._unloadHandler)},t.prototype._detachWindowUnload=function(){if(window.detachEvent)return window.detachEvent("onunload",this._unloadHandler)},t.prototype._getHeaders=function(){return W(this._xhr.getAllResponseHeaders())},t.prototype._getResponseText=function(){var t;switch(t="string"==typeof this._xhr.responseText?this._xhr.responseText:"",this._xhr.getResponseHeader("Content-Type")){case"application/json":case"text/javascript":t=JSON.parse(t+"")}return t},t.prototype._getResponseUrl=function(){return null!=this._xhr.responseURL?this._xhr.responseURL:/^X-Request-URL:/m.test(this._xhr.getAllResponseHeaders())?this._xhr.getResponseHeader("X-Request-URL"):""},t.prototype._handleError=function(t,e,n,r){return this._detachWindowUnload(),e({reason:t,status:n||this._xhr.status,statusText:r||this._xhr.statusText,xhr:this._xhr})},t.prototype._handleWindowUnload=function(){return this._xhr.abort()},t}(),G=[].slice;F=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,J=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)},D=function(){var t,e,n,r,o,u,i,c,s,l;try{if(!Object.assign)return!1;if(c=new String("abc"),c[5]="de","5"===Object.getOwnPropertyNames(c)[0])return!1;for(s={},t=e=0;e<=9;t=++e)s["_"+String.fromCharCode(t)]=t;if(u=Object.getOwnPropertyNames(s).map(function(t){return s[t]}),"0123456789"!==u.join(""))return!1;for(l={},i="abcdefghijklmnopqrst".split(""),n=0,r=i.length;n<r;n++)o=i[n],l[o]=o;return"abcdefghijklmnopqrst"===Object.keys(Object.assign({},l)).join("")}catch(t){return t,!1}};var K,Z,Y,Q,V,tt,et,nt,rt,ot,ut,it=$=function(){return D()?Object.assign:function(){var t,e,n,r,o,u,i,c,s,l,a,f;for(a=arguments[0],s=2<=arguments.length?G.call(arguments,1):[],f=J(a),e=0,o=s.length;e<o;e++){c=s[e],t=Object(c);for(r in t)z.call(t,r)&&(f[r]=t[r]);if(F)for(i=F(t),n=0,u=i.length;n<u;n++)l=i[n],M.call(t,l)&&(f[l]=t[l])}return f}}();nt=Object.prototype,rt=nt.hasOwnProperty,ut=nt.toString,ot=void 0,"function"==typeof Symbol&&(ot=Symbol.prototype.valueOf),V=function(t){return t!==t},K={boolean:1,number:1,string:1,undefined:1},Z=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,Q=/^[A-Fa-f0-9]+$/;var ct=function(t,e){return typeof t===e},st=function(t){return void 0!==t},lt=function(t){var e,n;if("[object Array]"===(n=ut.call(t))||"[object Arguments]"===n||"[object String]"===n)return 0===t.length;if("[object Object]"===n){for(e in t)if(rt.call(t,e))return!1;return!0}return!t},at=function(t,e){var n,r;if(t===e)return!0;if((r=ut.call(t))!==ut.call(e))return!1;if("[object Object]"===r){for(n in t)if(!(at(t[n],e[n])&&n in e))return!1;for(n in e)if(!(at(t[n],e[n])&&n in t))return!1;return!0}if("[object Array]"===r){if((n=t.length)!==e.length)return!1;for(;n--;)if(!at(t[n],e[n]))return!1;return!0}return"[object Function]"===r?t.prototype===e.prototype:"[object Date]"===r&&t.getTime()===e.getTime()},ft=function(t,e){var n;return n=typeof e[t],"object"===n?!!e[t]:!K[n]},pt=function(t,e){return t instanceof e},ht=function(t){return null===t},dt=function(t){return void 0===t},yt=function(t){return!!t&&!wt(t)&&rt.call(t,"length")&&isFinite(t.length)&&Ct(t.length)&&t.length>=0},mt=tt=function(t){var e,n;return n="[object Arguments]"===ut.call(t),e=!vt(t)&&yt(t)&&Mt(t)&&et(t.callee),n||e},vt=Array.isArray||function(t){return"[object Array]"===ut.call(t)},gt=function(t){return tt(t)&&0===t.length},bt=function(t){return vt(t)&&0===t.length},wt=function(t){return"[object Boolean]"===ut.call(t)},jt=function(t){return wt(t)&&Boolean(Number(t))===!1},Tt=function(t){return wt(t)&&Boolean(Number(t))===!0},xt=function(t){return"[object Date]"===ut.call(t)},Ot=function(t){return xt(t)&&!isNaN(Number(t))},kt=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},Et=function(t){return"[object Error]"===ut.call(t)},_t=et=function(t){var e;return"undefined"!=typeof window&&t===window.alert||("[object Function]"===(e=ut.call(t))||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e)},Ct=function(t){return"[object Number]"===ut.call(t)},Nt=function(t){return Infinity===t||-Infinity===t},Rt=function(t){return Ct(t)&&!V(t)&&!Nt(t)&&t%1!=0},St=function(t,e){var n,r,o;return n=Nt(t),r=Nt(e),o=Ct(t)&&!V(t)&&Ct(e)&&!V(e)&&0!==e,n||r||o&&t%e==0},Ut=function(t){return Ct(t)&&!V(t)&&t%1==0},At=function(t,e){var n;if(V(t))throw new TypeError("NaN is not a valid value");if(!yt(e))throw new TypeError("second argument must be array-like");for(n=e.length;--n>=0;)if(t<e[n])return!1;return!0},It=function(t,e){var n;if(V(t))throw new TypeError("NaN is not a valid value");if(!yt(e))throw new TypeError("second argument must be array-like");for(n=e.length;--n>=0;)if(t>e[n])return!1;return!0},Pt=function(t){return Ct(t)||t!==t},Ht=function(t){return Nt(t)||Ct(t)&&t===t&&t%2==0},Lt=function(t){return Nt(t)||Ct(t)&&t===t&&t%2!=0},qt=function(t,e){if(V(t)||V(e))throw new TypeError("NaN is not a valid value");return!Nt(t)&&!Nt(e)&&t>=e},Bt=function(t,e){if(V(t)||V(e))throw new TypeError("NaN is not a valid value");return!Nt(t)&&!Nt(e)&&t>e},Ft=function(t,e){if(V(t)||V(e))throw new TypeError("NaN is not a valid value");return!Nt(t)&&!Nt(e)&&t<=e},zt=function(t,e){if(V(t)||V(e))throw new TypeError("NaN is not a valid value");return!Nt(t)&&!Nt(e)&&t<e},$t=function(t,e,n){if(V(t)||V(e)||V(n))throw new TypeError("NaN is not a valid value");if(!Ct(t)||!Ct(e)||!Ct(n))throw new TypeError("all arguments must be numbers");return Nt(t)||Nt(e)||Nt(n)||t>=e&&t<=n},Mt=function(t){return"[object Object]"===ut.call(t)},Dt=function(t){return!t||!("object"==typeof t||Mt(t)||et(t)||vt(t))},Jt=function(t){return Mt(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},Wt=function(t){return"[object RegExp]"===ut.call(t)},Xt=function(t){return"[object String]"===ut.call(t)};Y={type:ct,defined:st,empty:lt,equal:at,hosted:ft,instanceof:pt,instance:pt,nil:ht,undefined:dt,undef:dt,arguments:mt,args:mt,array:vt,arraylike:yt,bool:wt,false:jt,true:Tt,date:xt,element:kt,error:Et,function:_t,fn:_t,number:Ct,infinite:Nt,decimal:Rt,divisibleBy:St,integer:Ut,maximum:At,max:At,minimum:It,min:It,nan:Pt,even:Ht,odd:Lt,ge:qt,gt:Bt,le:Ft,lt:zt,within:$t,object:Mt,primitive:Dt,hash:Jt,regexp:Wt,string:Xt,base64:function(t){return Xt(t)&&(!t.length||Z.test(t))},hex:function(t){return Xt(t)&&(!t.length||Q.test(t))},symbol:function(t){return"function"==typeof Symbol&&"[object Symbol]"===ut.call(t)&&"symbol"==typeof ot.call(t)}},Y.args.empty=gt,Y.array.empty=bt,Y.date.valid=Ot;var Gt,Kt=Y;Gt=function(){function t(){}return t.prototype.contructor=function(t){this.defaults=null!=t?t:{}},t.prototype.api=function(t,e,n){var r,o,u,i,c,s,l,a,f,p;if("undefined"!=typeof document){if(arguments.length>1){n=it({path:"/"},this.defaults,n),Kt(n.expires)&&(i=new Date,i.setMilliseconds(i.getMilliseconds()+864e5*n.expires),n.expires=i),n.expires=n.expires?n.expires.toUTCString():"";try{f=JSON.stringify(e),/^[\{\[]/.test(f)&&(e=f)}catch(t){t}e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),p="";for(s in n)(r=n[s])&&(p+="; "+s,r!==!0&&(p+="="+r));return document.cookie=t+"="+e+p}for(t||(f={}),u=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,c=0;c<u.length;){l=u[c].split("="),o=l.slice(1).join("="),'"'===o.charAt(0)&&(o=o.slice(1,-1));try{if(s=l[0].replace(a,decodeURIComponent),o=o.replace(a,decodeURIComponent),t===s){f=o;break}t||(f[s]=o)}catch(t){t}}return f}},t.prototype.get=function(t){return this.api.get(t)},t.prototype.getJSON=function(t){try{return JSON.parse(this.api.get(t))}catch(t){return t,{}}},t.prototype.set=function(t,e,n){return this.api(t,e,n)},t.prototype.remove=function(t,e){return this.api(t,"",it(e,{expires:-1}))},t}();var Zt,Yt=Gt,Qt=new Yt,Vt=[].slice;Zt=function(){function t(t){var e,n;null==t&&(t={}),this.opts={debug:!1,endpoint:"https://api.hanzo.io",session:{name:"hzo",expires:6048e5}};for(e in t)n=t[e],this.opts[e]=n}return t.prototype.getKey=function(){return this.opts.key},t.prototype.setKey=function(t){return this.opts.key=t},t.prototype.getCustomerToken=function(){var t;return null!=(t=Qt.getJSON(this.opts.session.name))&&null!=t.customerToken&&(this.customerToken=t.customerToken),this.customerToken},t.prototype.setCustomerToken=function(t){return Qt.set(this.opts.session.name,{customerToken:t},{expires:this.opts.session.expires}),this.customerToken=t},t.prototype.deleteCustomerToken=function(){return Qt.set(this.opts.session.name,{customerToken:null},{expires:this.opts.session.expires}),this.customerToken=null},t.prototype.url=function(t,n,r){return e(t)&&(t=t.call(this,n)),s(this.opts.endpoint+t,{token:r})},t.prototype.log=function(){var t;if(t=1<=arguments.length?Vt.call(arguments,0):[],t.unshift("hanzo.js>"),this.opts.debug&&"undefined"!=typeof console&&null!==console)return console.log.apply(console,t)},t}();var te,ee=Zt,ne=function(t,e){function n(){this.constructor=t}for(var r in e)re.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},re={}.hasOwnProperty;te=function(t){function e(t){if(!(this instanceof e))return new e(t);e.__super__.constructor.call(this,t),this.getCustomerToken()}return ne(e,t),e.prototype.request=function(t,e,n){var r;return null==e&&(e={}),null==n&&(n=this.getKey()),r={url:this.url(t.url,e,n),method:t.method},"GET"!==t.method&&(r.headers={"Content-Type":"application/json"}),"GET"===t.method?r.url=updateQuery(r.url,e):r.data=JSON.stringify(e),this.log("request",{key:n,opts:r}),(new X).send(r).then(function(t){return function(e){return t.log("response",e),e.data=e.responseText,e}}(this)).catch(function(t){return function(n){var r,o;try{n.data=null!=(o=n.responseText)?o:JSON.parse(n.xhr.responseText)}catch(t){r=t}throw r=i(e,n,r),t.log("response",n),t.log("error",r),r}}(this))},e}(ee);var oe,ue,ie,ce,se,le,ae,fe,pe=te,he=oe=function(t){return function(n){var r;return r=e(t)?t(n):t,null!=this.storeId?"/store/"+this.storeId+r:r}},de=function(t){switch(t){case"coupon":return oe(function(t){var e;return"/coupon/"+(null!=(e=t.code)?e:t)});case"collection":return oe(function(t){var e;return"/collection/"+(null!=(e=t.slug)?e:t)});case"product":return oe(function(t){var e,n;return"/product/"+(null!=(e=null!=(n=t.id)?n:t.slug)?e:t)});case"variant":return oe(function(t){var e,n;return"/variant/"+(null!=(e=null!=(n=t.id)?n:t.sku)?e:t)});case"site":return function(t){var e,n;return"/site/"+(null!=(e=null!=(n=t.id)?n:t.name)?e:t)};default:return function(e){var n;return"/"+t+"/"+(null!=(n=e.id)?n:e)}}};for(ie=function(t){var e;return e="/"+t,{list:{url:e,method:o,expects:n},get:{url:de(t),method:o,expects:n}}},ue={account:{get:{url:"/account",method:o,expects:n,useCustomerToken:!0},update:{url:"/account",method:"PATCH",expects:n,useCustomerToken:!0},exists:{url:function(t){var e,n,r;return"/account/exists/"+(null!=(e=null!=(n=null!=(r=t.email)?r:t.username)?n:t.id)?e:t)},method:o,expects:n,process:function(t){return t.data.exists}},create:{url:"/account/create",method:u,expects:r},enable:{url:function(t){var e;return"/account/enable/"+(null!=(e=t.tokenId)?e:t)},method:u,expects:n},login:{url:"/account/login",method:u,expects:n,process:function(t){return this.setCustomerToken(t.data.token),t}},logout:function(){return this.deleteCustomerToken()},reset:{url:"/account/reset",method:u,expects:n,useCustomerToken:!0},updateOrder:{url:function(t){var e,n;return"/account/order/"+(null!=(e=null!=(n=t.orderId)?n:t.id)?e:t)},method:"PATCH",expects:n,useCustomerToken:!0},confirm:{url:function(t){var e;return"/account/confirm/"+(null!=(e=t.tokenId)?e:t)},method:u,expects:n,useCustomerToken:!0}},cart:{create:{url:"/cart",method:u,expects:r},update:{url:function(t){var e;return"/cart/"+(null!=(e=t.id)?e:t)},method:"PATCH",expects:n},discard:{url:function(t){var e;return"/cart/"+(null!=(e=t.id)?e:t)+"/discard"},method:u,expects:n},set:{url:function(t){var e;return"/cart/"+(null!=(e=t.id)?e:t)+"/set"},method:u,expects:n}},review:{create:{url:"/review",method:u,expects:r},get:{url:function(t){var e;return"/review/"+(null!=(e=t.id)?e:t)},method:o,expects:n}},checkout:{authorize:{url:he("/checkout/authorize"),method:u,expects:n},capture:{url:he(function(t){var e;return"/checkout/capture/"+(null!=(e=t.orderId)?e:t)}),method:u,expects:n},charge:{url:he("/checkout/charge"),method:u,expects:n},paypal:{url:he("/checkout/paypal"),method:u,expects:n}},referrer:{create:{url:"/referrer",method:u,expects:r},get:{url:function(t){var e;return"/referrer/"+(null!=(e=t.id)?e:t)},method:o,expects:n}}},fe=["collection","coupon","product","variant"],ce=function(t){return ue[t]=ie(t)},se=0,le=fe.length;se<le;se++)ae=fe[se],ce(ae);var ye,me=ue;return f.BLUEPRINTS=me,f.CLIENT=pe,ye=function(t){return null==t&&(t={}),null==t.client&&(t.client=new pe(t)),null==t.blueprints&&(t.blueprints=me),new f(t)},ye.Api=f,ye.Client=pe,ye}();
