!function(t){"use strict";var e,n=function(t){return"function"==typeof t},r=function(t){return 200===t.status},o=function(t){return 201===t.status},u="GET",i="POST",c=function(t,e,n){var r,o,u,i,c,s;return null==e&&(e={}),r=null!=(o=null!=(u=e.data)&&null!=(i=u.error)?i.message:void 0)?o:"Request failed",null==n&&(n=new Error(r)),n.data=e.data,n.msg=r,n.req=t,n.responseText=e.data,n.status=e.status,n.type=null!=(c=e.data)&&null!=(s=c.error)?s.type:void 0,n};e=function(t,e,n){var r,o,u;return o=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi"),o.test(t)?null!=n?t.replace(o,"$1"+e+"="+n+"$2$3"):(r=t.split("#"),t=r[0].replace(o,"$1$3").replace(/(&|\?)$/,""),null!=r[1]&&(t+="#"+r[1]),t):null!=n?(u=t.indexOf("?")!==-1?"&":"?",r=t.split("#"),t=r[0]+u+e+"="+n,null!=r[1]&&(t+="#"+r[1]),t):t};var s,l=function(t,n){var r,o;if("object"!=typeof n)return t;for(r in n)o=n[r],t=e(t,r,o);return t};s=function(){function t(e){var n,r,o,u;if(null==e&&(e={}),!(this instanceof t))return new t(e);n=e.blueprints,r=e.client,this.client=r||new this.constructor.CLIENT(e),null==n&&(n=this.constructor.BLUEPRINTS);for(o in n)u=n[o],this.addBlueprints(o,u)}return t.BLUEPRINTS={},t.CLIENT=null,t.prototype.addBlueprints=function(t,e){var n,r;null==this[t]&&(this[t]={});for(r in e)n=e[r],this.addBlueprint(t,r,n)},t.prototype.addBlueprint=function(t,e,o){var i;return n(o)?this[t][e]=function(t){return function(){return o.apply(t,arguments)}}(this):(null==o.expects&&(o.expects=r),null==o.method&&(o.method=u),i=function(t){return function(e,n){var r;return r=void 0,o.useCustomerToken&&(r=t.client.getCustomerToken()),t.client.request(o,e,r).then(function(n){var r,u;if(null!=(null!=(r=n.data)?r.error:void 0))throw c(e,n);if(!o.expects(n))throw c(e,n);return null!=o.process&&o.process.call(t,n),null!=(u=n.data)?u:n.body}).callback(n)}}(this),this[t][e]=i)},t.prototype.setKey=function(t){return this.client.setKey(t)},t.prototype.setCustomerToken=function(t){return this.client.setCustomerToken(t)},t.prototype.deleteCustomerToken=function(){return this.client.deleteCustomerToken()},t.prototype.setStore=function(t){return this.storeId=t,this.client.setStore(t)},t}();var a,f,p=s,h=a=function(){function t(t){this.state=t.state,this.value=t.value,this.reason=t.reason}return t.prototype.isFulfilled=function(){return"fulfilled"===this.state},t.prototype.isRejected=function(){return"rejected"===this.state},t}();f=function(){var t,e,n,r,o;return r=[],o=0,t=1024,e=function(){for(var e;r.length-o;){try{r[o]()}catch(t){e=t,global.console&&global.console.error(e)}r[o++]=void 0,o===t&&(r.splice(0,t),o=0)}},n=function(){var t,n;return"undefined"!=typeof MutationObserver?(t=document.createElement("div"),n=new MutationObserver(e),n.observe(t,{attributes:!0}),function(){t.setAttribute("a",0)}):"undefined"!=typeof setImmediate?function(){setImmediate(e)}:function(){setTimeout(e,0)}}(),function(t){r.push(t),r.length-o==1&&n()}}();var d,y,m,v,g,b,w,j=f;g=void 0,m=g,y="fulfilled",v="rejected",w=function(t,e){var n,r;if("function"==typeof t.y)try{r=t.y.call(g,e),t.p.resolve(r)}catch(e){n=e,t.p.reject(n)}else t.p.resolve(e)},b=function(t,e){var n,r;if("function"==typeof t.n)try{r=t.n.call(g,e),t.p.resolve(r)}catch(e){n=e,t.p.reject(n)}else t.p.reject(e)},d=function(){function t(t){t&&t(function(t){return function(e){return t.resolve(e)}}(this),function(t){return function(e){return t.reject(e)}}(this))}return t.prototype.resolve=function(t){var e,n,r,o;if(this.state===m){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));if(t&&("function"==typeof t||"object"==typeof t))try{if(r=!0,"function"==typeof(o=t.then))return void o.call(t,function(t){return function(e){r&&(r&&(r=!1),t.resolve(e))}}(this),function(t){return function(e){r&&(r=!1,t.reject(e))}}(this))}catch(t){return n=t,void(r&&this.reject(n))}this.state=y,this.v=t,(e=this.c)&&j(function(n){return function(){var n,r,o;for(r=0,o=e.length;r<o;r++)n=e[r],w(n,t)}}())}},t.prototype.reject=function(e){var n;this.state===m&&(this.state=v,this.v=e,(n=this.c)?j(function(){var t,r,o;for(r=0,o=n.length;r<o;r++)t=n[r],b(t,e)}):!t.suppressUncaughtRejectionError&&global.console&&global.console.log("Broken Promise, please catch rejections: ",e,e?e.stack:null))},t.prototype.then=function(e,n){var r,o,u,i;return u=new t,o={y:e,n:n,p:u},this.state===m?this.c?this.c.push(o):this.c=[o]:(i=this.state,r=this.v,j(function(){i===y?w(o,r):b(o,r)})),u},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){return this.then(t,t)},t.prototype.timeout=function(e,n){return n=n||"timeout",new t(function(t){return function(r,o){setTimeout(function(){return o(Error(n))},e),t.then(function(t){r(t)},function(t){o(t)})}}(this))},t.prototype.callback=function(t){return"function"==typeof t&&(this.then(function(e){return t(null,e)}),this.catch(function(e){return t(e,null)})),this},t}();var T=d,x=function(t){var e;return e=new T,e.resolve(t),e},O=function(t){var e;return e=new T,e.reject(t),e},k=function(t){var e,n,r,o,u,i,c,s;for(c=[],u=0,s=new T,i=function(e,n){e&&"function"==typeof e.then||(e=x(e)),e.then(function(e){c[n]=e,++u===t.length&&s.resolve(c)},function(t){s.reject(t)})},e=n=0,r=t.length;n<r;e=++n)o=t[e],i(o,e);return t.length||s.resolve(c),s},E=function(t){return new T(function(e,n){return t.then(function(t){return e(new h({state:"fulfilled",value:t}))}).catch(function(t){return e(new h({state:"rejected",reason:t}))})})},_=function(t){return k(t.map(E))};T.all=k,T.reflect=E,T.reject=O,T.resolve=x,T.settle=_,T.soon=j;var C,N,R,S,A,U,I=[].slice;C=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,U=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)},A=function(){var t,e,n,r,o,u,i,c,s,l;try{if(!Object.assign)return!1;if(c=new String("abc"),c[5]="de","5"===Object.getOwnPropertyNames(c)[0])return!1;for(s={},t=e=0;e<=9;t=++e)s["_"+String.fromCharCode(t)]=t;if(u=Object.getOwnPropertyNames(s).map(function(t){return s[t]}),"0123456789"!==u.join(""))return!1;for(l={},i="abcdefghijklmnopqrst".split(""),n=0,r=i.length;n<r;n++)o=i[n],l[o]=o;return"abcdefghijklmnopqrst"===Object.keys(Object.assign({},l)).join("")}catch(t){return t,!1}};var H,P,L,q=R=function(){return A()?Object.assign:function(){var t,e,n,r,o,u,i,c,s,l,a,f;for(a=arguments[0],s=2<=arguments.length?I.call(arguments,1):[],f=U(a),e=0,o=s.length;e<o;e++){c=s[e],t=Object(c);for(r in t)N.call(t,r)&&(f[r]=t[r]);if(C)for(i=C(t),n=0,u=i.length;n<u;n++)l=i[n],S.call(t,l)&&(f[l]=t[l])}return f}}(),B=q;L=function(t){return t.replace(/^\s*|\s*$/g,"")},H=function(t){return"[object Array]"===Object.prototype.toString.call(t)};var F,z,$,M,D,J,W,X=P=function(t){var e,n,r,o,u,i,c,s;if(!t)return{};for(i={},u=L(t).split("\n"),e=0,o=u.length;e<o;e++)return c=u[e],n=c.indexOf(":"),r=L(c.slice(0,n)).toLowerCase(),s=L(c.slice(n+1)),void(void 0===i[r]?i[r]=s:H(i[r])?i[r].push(s):i[r]=[i[r],s]);return i},G=F=function(){function t(){}return t.DEFAULT_CONTENT_TYPE="application/x-www-form-urlencoded; charset=UTF-8",t.Promise=T,t.prototype.send=function(t){var e;return null==t&&(t={}),e={method:"GET",data:null,headers:{},async:!0,username:null,password:null},t=B({},e,t),new T(function(e){return function(n,r){var o,u,i,c,s;if(!XMLHttpRequest)return void e._handleError("browser",r,null,"browser doesn't support XMLHttpRequest");if("string"!=typeof t.url||0===t.url.length)return void e._handleError("url",r,null,"URL is a required parameter");e._xhr=s=new XMLHttpRequest,s.onload=function(){var t;e._detachWindowUnload();try{t=e._getResponseText()}catch(t){return void e._handleError("parse",r,null,"invalid JSON response")}return n({url:e._getResponseUrl(),status:s.status,statusText:s.statusText,responseText:t,headers:e._getHeaders(),xhr:s})},s.onerror=function(){return e._handleError("error",r)},s.ontimeout=function(){return e._handleError("timeout",r)},s.onabort=function(){return e._handleError("abort",r)},e._attachWindowUnload(),s.open(t.method,t.url,t.async,t.username,t.password),null==t.data||t.headers["Content-Type"]||(t.headers["Content-Type"]=e.constructor.DEFAULT_CONTENT_TYPE),i=t.headers;for(u in i)c=i[u],s.setRequestHeader(u,c);try{return s.send(t.data)}catch(t){return o=t,e._handleError("send",r,null,o.toString())}}}(this))},t.prototype.getXHR=function(){return this._xhr},t.prototype._attachWindowUnload=function(){if(this._unloadHandler=this._handleWindowUnload.bind(this),window.attachEvent)return window.attachEvent("onunload",this._unloadHandler)},t.prototype._detachWindowUnload=function(){if(window.detachEvent)return window.detachEvent("onunload",this._unloadHandler)},t.prototype._getHeaders=function(){return X(this._xhr.getAllResponseHeaders())},t.prototype._getResponseText=function(){var t;switch(t="string"==typeof this._xhr.responseText?this._xhr.responseText:"",this._xhr.getResponseHeader("Content-Type")){case"application/json":case"text/javascript":t=JSON.parse(t+"")}return t},t.prototype._getResponseUrl=function(){return null!=this._xhr.responseURL?this._xhr.responseURL:/^X-Request-URL:/m.test(this._xhr.getAllResponseHeaders())?this._xhr.getResponseHeader("X-Request-URL"):""},t.prototype._handleError=function(t,e,n,r){return this._detachWindowUnload(),e({reason:t,status:n||this._xhr.status,statusText:r||this._xhr.statusText,xhr:this._xhr})},t.prototype._handleWindowUnload=function(){return this._xhr.abort()},t}(),K=[].slice;z=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,W=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)},J=function(){var t,e,n,r,o,u,i,c,s,l;try{if(!Object.assign)return!1;if(c=new String("abc"),c[5]="de","5"===Object.getOwnPropertyNames(c)[0])return!1;for(s={},t=e=0;e<=9;t=++e)s["_"+String.fromCharCode(t)]=t;if(u=Object.getOwnPropertyNames(s).map(function(t){return s[t]}),"0123456789"!==u.join(""))return!1;for(l={},i="abcdefghijklmnopqrst".split(""),n=0,r=i.length;n<r;n++)o=i[n],l[o]=o;return"abcdefghijklmnopqrst"===Object.keys(Object.assign({},l)).join("")}catch(t){return t,!1}};var Z,Y,Q,V,tt,et,nt,rt,ot,ut,it,ct=M=function(){return J()?Object.assign:function(){var t,e,n,r,o,u,i,c,s,l,a,f;for(a=arguments[0],s=2<=arguments.length?K.call(arguments,1):[],f=W(a),e=0,o=s.length;e<o;e++){c=s[e],t=Object(c);for(r in t)$.call(t,r)&&(f[r]=t[r]);if(z)for(i=z(t),n=0,u=i.length;n<u;n++)l=i[n],D.call(t,l)&&(f[l]=t[l])}return f}}();rt=Object.prototype,ot=rt.hasOwnProperty,it=rt.toString,ut=void 0,"function"==typeof Symbol&&(ut=Symbol.prototype.valueOf),tt=function(t){return t!==t},Z={boolean:1,number:1,string:1,undefined:1},Y=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,V=/^[A-Fa-f0-9]+$/;var st=function(t,e){return typeof t===e},lt=function(t){return void 0!==t},at=function(t){var e,n;if("[object Array]"===(n=it.call(t))||"[object Arguments]"===n||"[object String]"===n)return 0===t.length;if("[object Object]"===n){for(e in t)if(ot.call(t,e))return!1;return!0}return!t},ft=function(t,e){var n,r;if(t===e)return!0;if((r=it.call(t))!==it.call(e))return!1;if("[object Object]"===r){for(n in t)if(!(ft(t[n],e[n])&&n in e))return!1;for(n in e)if(!(ft(t[n],e[n])&&n in t))return!1;return!0}if("[object Array]"===r){if((n=t.length)!==e.length)return!1;for(;n--;)if(!ft(t[n],e[n]))return!1;return!0}return"[object Function]"===r?t.prototype===e.prototype:"[object Date]"===r&&t.getTime()===e.getTime()},pt=function(t,e){var n;return n=typeof e[t],"object"===n?!!e[t]:!Z[n]},ht=function(t,e){return t instanceof e},dt=function(t){return null===t},yt=function(t){return void 0===t},mt=function(t){return!!t&&!jt(t)&&ot.call(t,"length")&&isFinite(t.length)&&Nt(t.length)&&t.length>=0},vt=et=function(t){var e,n;return n="[object Arguments]"===it.call(t),e=!gt(t)&&mt(t)&&Dt(t)&&nt(t.callee),n||e},gt=Array.isArray||function(t){return"[object Array]"===it.call(t)},bt=function(t){return et(t)&&0===t.length},wt=function(t){return gt(t)&&0===t.length},jt=function(t){return"[object Boolean]"===it.call(t)},Tt=function(t){return jt(t)&&Boolean(Number(t))===!1},xt=function(t){return jt(t)&&Boolean(Number(t))===!0},Ot=function(t){return"[object Date]"===it.call(t)},kt=function(t){return Ot(t)&&!isNaN(Number(t))},Et=function(t){return void 0!==t&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&1===t.nodeType},_t=function(t){return"[object Error]"===it.call(t)},Ct=nt=function(t){var e;return"undefined"!=typeof window&&t===window.alert||("[object Function]"===(e=it.call(t))||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e)},Nt=function(t){return"[object Number]"===it.call(t)},Rt=function(t){return Infinity===t||t===-Infinity},St=function(t){return Nt(t)&&!tt(t)&&!Rt(t)&&t%1!=0},At=function(t,e){var n,r,o;return n=Rt(t),r=Rt(e),o=Nt(t)&&!tt(t)&&Nt(e)&&!tt(e)&&0!==e,n||r||o&&t%e==0},Ut=function(t){return Nt(t)&&!tt(t)&&t%1==0},It=function(t,e){var n;if(tt(t))throw new TypeError("NaN is not a valid value");if(!mt(e))throw new TypeError("second argument must be array-like");for(n=e.length;--n>=0;)if(t<e[n])return!1;return!0},Ht=function(t,e){var n;if(tt(t))throw new TypeError("NaN is not a valid value");if(!mt(e))throw new TypeError("second argument must be array-like");for(n=e.length;--n>=0;)if(t>e[n])return!1;return!0},Pt=function(t){return Nt(t)||t!==t},Lt=function(t){return Rt(t)||Nt(t)&&t===t&&t%2==0},qt=function(t){return Rt(t)||Nt(t)&&t===t&&t%2!=0},Bt=function(t,e){if(tt(t)||tt(e))throw new TypeError("NaN is not a valid value");return!Rt(t)&&!Rt(e)&&t>=e},Ft=function(t,e){if(tt(t)||tt(e))throw new TypeError("NaN is not a valid value");return!Rt(t)&&!Rt(e)&&t>e},zt=function(t,e){if(tt(t)||tt(e))throw new TypeError("NaN is not a valid value");return!Rt(t)&&!Rt(e)&&t<=e},$t=function(t,e){if(tt(t)||tt(e))throw new TypeError("NaN is not a valid value");return!Rt(t)&&!Rt(e)&&t<e},Mt=function(t,e,n){if(tt(t)||tt(e)||tt(n))throw new TypeError("NaN is not a valid value");if(!Nt(t)||!Nt(e)||!Nt(n))throw new TypeError("all arguments must be numbers");return Rt(t)||Rt(e)||Rt(n)||t>=e&&t<=n},Dt=function(t){return"[object Object]"===it.call(t)},Jt=function(t){return!t||!("object"==typeof t||Dt(t)||nt(t)||gt(t))},Wt=function(t){return Dt(t)&&t.constructor===Object&&!t.nodeType&&!t.setInterval},Xt=function(t){return"[object RegExp]"===it.call(t)},Gt=function(t){return"[object String]"===it.call(t)};Q={type:st,defined:lt,empty:at,equal:ft,hosted:pt,instanceof:ht,instance:ht,nil:dt,undefined:yt,undef:yt,arguments:vt,args:vt,array:gt,arraylike:mt,bool:jt,false:Tt,true:xt,date:Ot,element:Et,error:_t,function:Ct,fn:Ct,number:Nt,infinite:Rt,decimal:St,divisibleBy:At,integer:Ut,maximum:It,max:It,minimum:Ht,min:Ht,nan:Pt,even:Lt,odd:qt,ge:Bt,gt:Ft,le:zt,lt:$t,within:Mt,object:Dt,primitive:Jt,hash:Wt,regexp:Xt,string:Gt,base64:function(t){return Gt(t)&&(!t.length||Y.test(t))},hex:function(t){return Gt(t)&&(!t.length||V.test(t))},symbol:function(t){return"function"==typeof Symbol&&"[object Symbol]"===it.call(t)&&"symbol"==typeof ut.call(t)}},Q.args.empty=bt,Q.array.empty=wt,Q.date.valid=kt;var Kt,Zt=Q;Kt=function(){function t(){}return t.prototype.contructor=function(t){this.defaults=null!=t?t:{}},t.prototype.api=function(t,e,n){var r,o,u,i,c,s,l,a,f,p;if("undefined"!=typeof document){if(arguments.length>1){n=ct({path:"/"},this.defaults,n),Zt(n.expires)&&(i=new Date,i.setMilliseconds(i.getMilliseconds()+864e5*n.expires),n.expires=i),n.expires=n.expires?n.expires.toUTCString():"";try{f=JSON.stringify(e),/^[\{\[]/.test(f)&&(e=f)}catch(t){t}e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),p="";for(s in n)(r=n[s])&&(p+="; "+s,r!==!0&&(p+="="+r));return document.cookie=t+"="+e+p}for(t||(f={}),u=document.cookie?document.cookie.split("; "):[],a=/(%[0-9A-Z]{2})+/g,c=0;c<u.length;){l=u[c].split("="),o=l.slice(1).join("="),'"'===o.charAt(0)&&(o=o.slice(1,-1));try{if(s=l[0].replace(a,decodeURIComponent),o=o.replace(a,decodeURIComponent),t===s){f=o;break}t||(f[s]=o)}catch(t){t}}return f}},t.prototype.get=function(t){return this.api.get(t)},t.prototype.getJSON=function(t){try{return JSON.parse(this.api.get(t))}catch(t){return t,{}}},t.prototype.set=function(t,e,n){return this.api(t,e,n)},t.prototype.remove=function(t,e){return this.api(t,"",ct(e,{expires:-1}))},t}();var Yt,Qt=Kt,Vt=new Qt,te=[].slice;Yt=function(){function t(t){var e,n;null==t&&(t={}),this.opts={debug:!1,endpoint:"https://api.hanzo.io",session:{name:"hzo",expires:6048e5}};for(e in t)n=t[e],this.opts[e]=n}return t.prototype.getKey=function(){return this.opts.key},t.prototype.setKey=function(t){return this.opts.key=t},t.prototype.getCustomerToken=function(){var t;return null!=(t=Vt.getJSON(this.opts.session.name))&&null!=t.customerToken&&(this.customerToken=t.customerToken),this.customerToken},t.prototype.setCustomerToken=function(t){return Vt.set(this.opts.session.name,{customerToken:t},{expires:this.opts.session.expires}),this.customerToken=t},t.prototype.deleteCustomerToken=function(){return Vt.set(this.opts.session.name,{customerToken:null},{expires:this.opts.session.expires}),this.customerToken=null},t.prototype.url=function(t,e,r){return n(t)&&(t=t.call(this,e)),l(this.opts.endpoint+t,{token:r})},t.prototype.log=function(){var t;if(t=1<=arguments.length?te.call(arguments,0):[],t.unshift("hanzo.js>"),this.opts.debug&&"undefined"!=typeof console&&null!==console)return console.log.apply(console,t)},t}();var ee,ne=Yt,re=function(t,e){function n(){this.constructor=t}for(var r in e)oe.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},oe={}.hasOwnProperty;ee=function(t){function e(t){if(!(this instanceof e))return new e(t);e.__super__.constructor.call(this,t),this.getCustomerToken()}return re(e,t),e.prototype.request=function(t,e,n){var r;return null==e&&(e={}),null==n&&(n=this.getKey()),r={url:this.url(t.url,e,n),method:t.method},"GET"!==t.method&&(r.headers={"Content-Type":"application/json"}),"GET"===t.method?r.url=l(r.url,e):r.data=JSON.stringify(e),this.log("request",{key:n,opts:r}),(new G).send(r).then(function(t){return function(e){return t.log("response",e),e.data=e.responseText,e}}(this)).catch(function(t){return function(n){var r,o;try{n.data=null!=(o=n.responseText)?o:JSON.parse(n.xhr.responseText)}catch(t){r=t}throw r=c(e,n,r),t.log("response",n),t.log("error",r),r}}(this))},e}(ne);var ue,ie,ce,se,le,ae,fe,pe,he=ee,de=ue=function(t){return function(e){var r;return r=n(t)?t(e):t,null!=this.storeId?"/store/"+this.storeId+r:r}},ye=function(t){switch(t){case"coupon":return ue(function(t){var e;return"/coupon/"+(null!=(e=t.code)?e:t)});case"collection":return ue(function(t){var e;return"/collection/"+(null!=(e=t.slug)?e:t)});case"product":return ue(function(t){var e,n;return"/product/"+(null!=(e=null!=(n=t.id)?n:t.slug)?e:t)});case"variant":return ue(function(t){var e,n;return"/variant/"+(null!=(e=null!=(n=t.id)?n:t.sku)?e:t)});case"site":return function(t){var e,n;return"/site/"+(null!=(e=null!=(n=t.id)?n:t.name)?e:t)};default:return function(e){var n;return"/"+t+"/"+(null!=(n=e.id)?n:e)}}};for(ce=function(t){var e;return e="/"+t,{list:{url:e,method:u,expects:r},get:{url:ye(t),method:u,expects:r}}},ie={account:{get:{url:"/account",method:u,expects:r,useCustomerToken:!0},update:{url:"/account",method:"PATCH",expects:r,useCustomerToken:!0},exists:{url:function(t){var e,n,r;return"/account/exists/"+(null!=(e=null!=(n=null!=(r=t.email)?r:t.username)?n:t.id)?e:t)},method:u,expects:r,process:function(t){return t.data.exists}},create:{url:"/account/create",method:i,expects:o},enable:{url:function(t){var e;return"/account/enable/"+(null!=(e=t.tokenId)?e:t)},method:i,expects:r},login:{url:"/account/login",method:i,expects:r,process:function(t){return this.setCustomerToken(t.data.token),t}},logout:function(){return this.deleteCustomerToken()},reset:{url:"/account/reset",method:i,expects:r,useCustomerToken:!0},updateOrder:{url:function(t){var e,n;return"/account/order/"+(null!=(e=null!=(n=t.orderId)?n:t.id)?e:t)},method:"PATCH",expects:r,useCustomerToken:!0},confirm:{url:function(t){var e;return"/account/confirm/"+(null!=(e=t.tokenId)?e:t)},method:i,expects:r,useCustomerToken:!0}},cart:{create:{url:"/cart",method:i,expects:o},update:{url:function(t){var e;return"/cart/"+(null!=(e=t.id)?e:t)},method:"PATCH",expects:r},discard:{url:function(t){var e;return"/cart/"+(null!=(e=t.id)?e:t)+"/discard"},method:i,expects:r},set:{url:function(t){var e;return"/cart/"+(null!=(e=t.id)?e:t)+"/set"},method:i,expects:r}},review:{create:{url:"/review",method:i,expects:o},get:{url:function(t){var e;return"/review/"+(null!=(e=t.id)?e:t)},method:u,expects:r}},checkout:{authorize:{url:de("/checkout/authorize"),method:i,expects:r},capture:{url:de(function(t){var e;return"/checkout/capture/"+(null!=(e=t.orderId)?e:t)}),method:i,expects:r},charge:{url:de("/checkout/charge"),method:i,expects:r},paypal:{url:de("/checkout/paypal"),method:i,expects:r}},referrer:{create:{url:"/referrer",method:i,expects:o},get:{url:function(t){var e;return"/referrer/"+(null!=(e=t.id)?e:t)},method:u,expects:r}}},pe=["collection","coupon","product","variant"],se=function(t){return ie[t]=ce(t)},le=0,ae=pe.length;le<ae;le++)fe=pe[le],se(fe);var me,ve=ie;p.BLUEPRINTS=ve,p.CLIENT=he,me=function(t){return null==t&&(t={}),null==t.client&&(t.client=new he(t)),null==t.blueprints&&(t.blueprints=ve),new p(t)},me.Api=p,me.Client=he;var ge=me;t.default=ge,t.Api=p,t.Client=he}(this.Hanzo=this.Hanzo||{});
